"use strict";(self.webpackChunkstandalone=self.webpackChunkstandalone||[]).push([[288],{9288:(O,c,l)=>{l.r(c),l.d(c,{RegisterComponent:()=>M});var d=l(6814),s=l(95),f=l(1120),e=l(4769),Z=l(6026);function h(t,o){if(1&t&&(e.TgZ(0,"p",34),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.hij(" ",n.errMsg,"")}}function v(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, Name is Required"),e.qZA())}function x(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, Min length is 3 letters"),e.qZA())}function I(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, Max Length is 20 letters "),e.qZA())}function T(t,o){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,v,2,0,"p",36),e.YNc(2,x,2,0,"p",36),e.YNc(3,I,2,0,"p",36),e.qZA()),2&t){const n=e.oxw();let i,r,a;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("name"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("name"))?null:r.getError("minlength")),e.xp6(1),e.Q6J("ngIf",null==(a=n.registerForm.get("name"))?null:a.getError("maxlength"))}}function A(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, Email is Required"),e.qZA())}function w(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* please input Email with a valid format"),e.qZA())}function q(t,o){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,A,2,0,"p",36),e.YNc(2,w,2,0,"p",36),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("email"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("email"))?null:r.getError("email"))}}function R(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, password is Required"),e.qZA())}function C(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1," * Sorry, password must consists of at least 9 characters including capital letters or small letters or numbers "),e._UZ(2,"br"),e.qZA())}function U(t,o){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,R,2,0,"p",36),e.YNc(2,C,3,0,"p",36),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("password"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("password"))?null:r.getError("pattern"))}}function N(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, rePassword is Required"),e.qZA())}function E(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Password confirmation is incorrect "),e.qZA())}function F(t,o){if(1&t&&(e.TgZ(0,"div",35),e.YNc(1,N,2,0,"p",36),e.YNc(2,E,2,0,"p",36),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("rePassword"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("rePassword"))?null:r.getError("mismatch"))}}function P(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, phone is Required"),e.qZA())}function J(t,o){1&t&&(e.TgZ(0,"p",37),e._uU(1,"* Sorry, accept only egypt phone numbers"),e.qZA())}function y(t,o){if(1&t&&(e.TgZ(0,"div",38),e.YNc(1,P,2,0,"p",36),e.YNc(2,J,2,0,"p",36),e.qZA()),2&t){const n=e.oxw();let i,r;e.xp6(1),e.Q6J("ngIf",null==(i=n.registerForm.get("phone"))?null:i.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(r=n.registerForm.get("phone"))?null:r.getError("pattern"))}}function Y(t,o){1&t&&e._UZ(0,"i",39)}function b(t,o){1&t&&(e.TgZ(0,"p",40),e._uU(1,"Acount already exist? "),e.TgZ(2,"a",41),e._uU(3,"login"),e.qZA()())}let M=(()=>{class t{constructor(n,i){this._AuthenticationService=n,this._Router=i,this.errMsg="",this.registerSpinner=!1,this.navigateLogin=!1,this.registerForm=new s.cw({name:new s.NI("",[s.kI.required,s.kI.minLength(3),s.kI.maxLength(20)]),email:new s.NI("",[s.kI.required,s.kI.email]),password:new s.NI("",[s.kI.required,s.kI.pattern(/^[A-Za-z0-9]{9,}$/)]),rePassword:new s.NI(""),phone:new s.NI("",[s.kI.required,s.kI.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]})}confirmPassword(n){const i=n.get("password"),r=n.get("rePassword");null==r?.value||""==r?.value?r?.setErrors({required:!0}):i?.value!=r?.value&&r?.setErrors({mismatch:!0})}handleRegister(n){n.valid?(this.registerSpinner=!0,this._AuthenticationService.signUp(n.value).subscribe({next:i=>{"success"==i.message&&(this.registerSpinner=!1,this._Router.navigate(["/login"]))},error:i=>{this.errMsg=i.error.message,this.navigateLogin=!0,this.registerSpinner=!1}})):this.registerForm.markAllAsTouched()}static#e=this.\u0275fac=function(i){return new(i||t)(e.Y36(Z.$),e.Y36(f.F0))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-register"]],standalone:!0,features:[e.jDz],decls:44,vars:10,consts:[[1,"row","boxShadow"],[1,"col-lg-6"],["src","./assets/images/signup-image.jpg","alt","register",1,"w-75"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"fs-2","mb-5"],["class","text-danger fa-beat",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"d-flex","mb-4","align-items-center"],["for","nameInput",1,"me-2"],[1,"fa-solid","fa-user"],["id","nameInput","type","text","placeholder","user name","formControlName","name"],["nameInput",""],["class","text-center",4,"ngIf"],["for","emailInput",1,"me-2"],[1,"fa-solid","fa-envelope"],["id","emailInput","type","email","placeholder","user email","formControlName","email"],["emailInput",""],[1,"d-flex","mb-4","align-items-center","w-100"],["for","passwordInput",1,"me-2"],[1,"fa-solid","fa-lock"],["id","passwordnput","type","password","placeholder","user password","formControlName","password"],["passwordInput",""],["for","rePasswordInput",1,"me-2"],["id","rePasswordInput","type","password","placeholder","user rePassword","formControlName","rePassword"],["rePasswordInput",""],["for","phoneInput",1,"me-2"],[1,"fa-solid","fa-phone"],["id","phoneInput","type","tel","placeholder","user phone","formControlName","phone"],["phoneInput",""],["class","text-center mb-4",4,"ngIf"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"myButton","mb-3",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["class","text-muted",4,"ngIf"],[1,"text-danger","fa-beat"],[1,"text-center"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"text-center","mb-4"],[1,"fas","fa-spinner","fa-spin"],[1,"text-muted"],["routerLink","/login",1,"text-info"]],template:function(i,r){if(1&i&&(e.TgZ(0,"section",0)(1,"figure",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"div",1)(4,"div",3)(5,"h3",4),e._uU(6,"Welcome to Register"),e.qZA(),e.YNc(7,h,2,1,"p",5),e.qZA(),e.TgZ(8,"form",6),e.NdJ("ngSubmit",function(){return r.handleRegister(r.registerForm)}),e.TgZ(9,"div",7)(10,"label",8),e._UZ(11,"i",9),e.qZA(),e._UZ(12,"input",10,11),e.qZA(),e.YNc(14,T,4,3,"div",12),e.TgZ(15,"div",7)(16,"label",13),e._UZ(17,"i",14),e.qZA(),e._UZ(18,"input",15,16),e.qZA(),e.YNc(20,q,3,2,"div",12),e.TgZ(21,"div",17)(22,"label",18),e._UZ(23,"i",19),e.qZA(),e._UZ(24,"input",20,21),e.qZA(),e.YNc(26,U,3,2,"div",12),e.TgZ(27,"div",17)(28,"label",22),e._UZ(29,"i",19),e.qZA(),e._UZ(30,"input",23,24),e.qZA(),e.YNc(32,F,3,2,"div",12),e.TgZ(33,"div",7)(34,"label",25),e._UZ(35,"i",26),e.qZA(),e._UZ(36,"input",27,28),e.qZA(),e.YNc(38,y,3,2,"div",29),e.TgZ(39,"div",30)(40,"button",31),e._uU(41,"Register "),e.YNc(42,Y,1,0,"i",32),e.qZA(),e.YNc(43,b,4,0,"p",33),e.qZA()()()()),2&i){const a=e.MAs(13),Q=e.MAs(19),S=e.MAs(25),L=e.MAs(31),D=e.MAs(37);let p,g,u,_,m;e.xp6(7),e.Q6J("ngIf",r.errMsg),e.xp6(1),e.Q6J("formGroup",r.registerForm),e.xp6(6),e.Q6J("ngIf",(null==(p=r.registerForm.get("name"))?null:p.errors)&&((null==(p=r.registerForm.get("name"))?null:p.touched)||a.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(g=r.registerForm.get("email"))?null:g.errors)&&((null==(g=r.registerForm.get("email"))?null:g.touched)||Q.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(u=r.registerForm.get("password"))?null:u.errors)&&((null==(u=r.registerForm.get("password"))?null:u.touched)||S.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(_=r.registerForm.get("rePassword"))?null:_.errors)&&((null==(_=r.registerForm.get("rePassword"))?null:_.touched)||L.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(m=r.registerForm.get("phone"))?null:m.errors)&&((null==(m=r.registerForm.get("phone"))?null:m.touched)||D.value.length>0)),e.xp6(2),e.Q6J("disabled",r.registerForm.invalid),e.xp6(2),e.Q6J("ngIf",r.registerSpinner),e.xp6(1),e.Q6J("ngIf",r.navigateLogin)}},dependencies:[d.ez,d.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,f.rH]})}return t})()}}]);