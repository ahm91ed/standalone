"use strict";(self.webpackChunkstandalone=self.webpackChunkstandalone||[]).push([[901],{4901:(w,u,l)=>{l.r(u),l.d(u,{LoginComponent:()=>I});var p=l(6814),r=l(95),m=l(1120),e=l(4769),c=l(6026);function d(n,s){if(1&n&&(e.TgZ(0,"p",25),e._uU(1),e.qZA()),2&n){const i=e.oxw();e.xp6(1),e.Oqu(i.errorMessage)}}function f(n,s){1&n&&(e.TgZ(0,"p",28),e._uU(1," Email is required "),e.qZA())}function Z(n,s){1&n&&(e.TgZ(0,"p",28),e._uU(1," please input an Email with a valid format "),e.qZA())}function h(n,s){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,f,2,0,"p",27),e.YNc(2,Z,2,0,"p",27),e.qZA()),2&n){const i=e.oxw();let t,o;e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("email"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=i.loginForm.get("email"))?null:o.getError("email"))}}function v(n,s){1&n&&(e.TgZ(0,"p",28),e._uU(1," password is required "),e.qZA())}function T(n,s){1&n&&(e.TgZ(0,"p",28),e._uU(1," * password must consists of 9 characters "),e._UZ(2,"br"),e._uU(3," * password must include any of capital letters small letters numbers without any special characters "),e.qZA())}function x(n,s){if(1&n&&(e.TgZ(0,"div",26),e.YNc(1,v,2,0,"p",27),e.YNc(2,T,4,0,"p",27),e.qZA()),2&n){const i=e.oxw();let t,o;e.xp6(1),e.Q6J("ngIf",null==(t=i.loginForm.get("password"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(o=i.loginForm.get("password"))?null:o.getError("pattern"))}}function A(n,s){1&n&&e._UZ(0,"i",29)}let I=(()=>{class n{constructor(i,t,o){this._FormBuilder=i,this._AuthenticationService=t,this._Router=o,this.errorMessage="",this.loginSpinner=!1,this.loginForm=this._FormBuilder.group({email:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.pattern(/^[A-Za-z0-9]{9,}$/)]]})}handleLogin(i){i.valid?(this.loginSpinner=!0,this._AuthenticationService.signIn(i.value).subscribe({next:t=>{"success"==t.message&&(this.loginSpinner=!1,localStorage.setItem("eToken",t.token),this._AuthenticationService.decodeUserToken(),this._Router.navigate(["/home"]))},error:t=>{console.log(t),this.errorMessage=t.error.message,this.loginSpinner=!1}})):this.loginForm.markAllAsTouched()}static#e=this.\u0275fac=function(t){return new(t||n)(e.Y36(r.qu),e.Y36(c.$),e.Y36(m.F0))};static#n=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],standalone:!0,features:[e.jDz],decls:33,vars:6,consts:[[1,"row","boxShadow"],[1,"col-lg-6","mb-5"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"fs-2","mb-5"],["class","text-danger fa-beat",4,"ngIf"],[3,"formGroup","submit"],[1,"d-flex","align-items-center","mb-4"],["for","email",1,"me-2"],[1,"fa-solid","fa-envelope"],["id","email","type","email","placeholder","your email","formControlName","email"],["emailInput",""],["class","text-center",4,"ngIf"],["for","password",1,"me-2"],[1,"fa-solid","fa-lock"],["id","password","type","password","placeholder","your password","formControlName","password"],["passwordInput",""],[1,"d-flex","justify-content-between","flex-column","mt-5"],[1,"d-flex","justify-content-between","align-items-center"],[1,"myButton",3,"disabled"],["class","fas fa-spinner fa-spin",4,"ngIf"],["role","button","routerLink","/forgotpassword"],[1,"mt-3","mb-0"],["routerLink","/register",1,"text-primary"],[1,"col-lg-6","text-center"],["src","./assets/images/signin-image.jpg","alt","signin"],[1,"text-danger","fa-beat"],[1,"text-center"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4,"Welcome to login"),e.qZA(),e.YNc(5,d,2,1,"p",4),e.qZA(),e.TgZ(6,"form",5),e.NdJ("submit",function(){return o.handleLogin(o.loginForm)}),e.TgZ(7,"div",6)(8,"label",7),e._UZ(9,"i",8),e.qZA(),e._UZ(10,"input",9,10),e.qZA(),e.YNc(12,h,3,2,"div",11),e.TgZ(13,"div",6)(14,"label",12),e._UZ(15,"i",13),e.qZA(),e._UZ(16,"input",14,15),e.qZA(),e.YNc(18,x,3,2,"div",11),e.TgZ(19,"div",16)(20,"div",17)(21,"button",18),e._uU(22," login "),e.YNc(23,A,1,0,"i",19),e.qZA(),e.TgZ(24,"span",20),e._uU(25," forgot password"),e.qZA()(),e.TgZ(26,"p",21),e._uU(27,"Don't Have an account?"),e.TgZ(28,"a",22),e._uU(29," Signup"),e.qZA()()()()(),e.TgZ(30,"div",23)(31,"figure"),e._UZ(32,"img",24),e.qZA()()()),2&t){const _=e.MAs(11),U=e.MAs(17);let a,g;e.xp6(5),e.Q6J("ngIf",o.errorMessage),e.xp6(1),e.Q6J("formGroup",o.loginForm),e.xp6(6),e.Q6J("ngIf",(null==(a=o.loginForm.get("email"))?null:a.errors)&&((null==(a=o.loginForm.get("email"))?null:a.touched)||_.value.length>0)),e.xp6(6),e.Q6J("ngIf",(null==(g=o.loginForm.get("password"))?null:g.errors)&&((null==(g=o.loginForm.get("password"))?null:g.touched)||U.value.length>0)),e.xp6(3),e.Q6J("disabled",o.loginForm.invalid),e.xp6(2),e.Q6J("ngIf",o.loginSpinner)}},dependencies:[p.ez,p.O5,r.UX,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,m.rH]})}return n})()}}]);