"use strict";(self.webpackChunkstandalone=self.webpackChunkstandalone||[]).push([[515],{1515:(p,c,r)=>{r.r(c),r.d(c,{PaymentComponent:()=>_});var n=r(95),l=r(6814),t=r(4769),m=r(1120),i=r(9366);let _=(()=>{class e{constructor(a,o){this._ActivatedRoute=a,this._CartService=o,this.cartId="",this.paymentForm=new n.cw({details:new n.NI(""),phone:new n.NI(""),city:new n.NI("")})}ngOnInit(){this._ActivatedRoute.paramMap.subscribe({next:a=>{console.log(a.get("id")),this.cartId=a.get("id")}})}handlePaymentForm(a){this._CartService.checkoutSession(this.cartId,a.value).subscribe({next:o=>{"success"==o.status&&window.open(o.session.url)}})}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(m.gz),t.Y36(i.N))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-payment"]],standalone:!0,features:[t.jDz],decls:15,vars:1,consts:[[1,"w-75","mx-auto","bg-light","rounded-2","p-4","mt-4","text-center"],[1,"color-main"],[3,"formGroup","ngSubmit"],["for","details"],["id","details","type","text","formControlName","details","placeholder","details",1,"form-control","mt-2"],["for","phone"],["id","phone","type","tel","formControlName","phone","placeholder","phone",1,"form-control","mt-2"],["for","city"],["id","city","type","text","formControlName","city","placeholder","city",1,"form-control","mt-2"],[1,"myButton","m-4"]],template:function(o,u){1&o&&(t.TgZ(0,"section",0)(1,"h3",1),t._uU(2,"Online Payment"),t.qZA(),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return u.handlePaymentForm(u.paymentForm)}),t.TgZ(4,"div"),t._UZ(5,"label",3)(6,"input",4),t.qZA(),t.TgZ(7,"div"),t._UZ(8,"label",5)(9,"input",6),t.qZA(),t.TgZ(10,"div"),t._UZ(11,"label",7)(12,"input",8),t.qZA(),t.TgZ(13,"button",9),t._uU(14," CheckOut "),t.qZA()()()),2&o&&(t.xp6(3),t.Q6J("formGroup",u.paymentForm))},dependencies:[l.ez,n.UX,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u]})}return e})()},9366:(p,c,r)=>{r.d(c,{N:()=>m});var n=r(5619),l=r(4769),t=r(9862);let m=(()=>{class i{constructor(e){this._HttpClient=e,this.cartNumber=new n.X(0),this.apiUrl="https://ecommerce.routemisr.com/api/v1/"}addProductCart(e){return this._HttpClient.post(this.apiUrl+"cart",{productId:e})}getUserCart(){return this._HttpClient.get(this.apiUrl+"cart")}removeSpecificCartItem(e){return this._HttpClient.delete(this.apiUrl+`cart/${e}`)}updateCartProduct(e,s){return this._HttpClient.put(this.apiUrl+`cart/${s}`,{count:e})}clearUserCart(){return this._HttpClient.delete(this.apiUrl+"cart")}checkoutSession(e,s){return this._HttpClient.post(this.apiUrl+`orders/checkout-session/${e}?url=http://localhost:4200`,s)}static#t=this.\u0275fac=function(s){return new(s||i)(l.LFG(t.eN))};static#e=this.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);