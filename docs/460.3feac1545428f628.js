"use strict";(self.webpackChunkstandalone=self.webpackChunkstandalone||[]).push([[460],{9460:(P,u,n)=>{n.r(u),n.d(u,{HomeComponent:()=>O});var l=n(6814),g=n(1578),d=n(756),h=n(1120),r=n(95),t=n(4769);let p=(()=>{class s{transform(e,i){return e.filter(o=>o.title.toLowerCase().includes(i.toLowerCase()))}static#t=this.\u0275fac=function(i){return new(i||s)};static#e=this.\u0275pipe=t.Yjl({name:"search",type:s,pure:!0,standalone:!0})}return s})();var _=n(380),f=n(9366),x=n(2425),v=n(916);function T(s,c){if(1&s&&(t.TgZ(0,"div",7),t._UZ(1,"img",8),t.TgZ(2,"h3",9),t._uU(3),t.qZA()()),2&s){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.image,t.LSH)("alt",e.name),t.xp6(2),t.Oqu(e.name)}}function C(s,c){1&s&&(t.ynx(0),t.YNc(1,T,4,3,"ng-template",6),t.BQk())}function Z(s,c){if(1&s&&(t.TgZ(0,"section",2)(1,"h2",3),t._uU(2,"Popular categories"),t.qZA(),t.TgZ(3,"owl-carousel-o",4),t.YNc(4,C,2,0,"ng-container",5),t.qZA()()),2&s){const e=t.oxw();t.xp6(3),t.Q6J("options",e.categoryOptions),t.xp6(1),t.Q6J("ngForOf",e.categories)}}function w(s,c){if(1&s&&t._UZ(0,"i",28),2&s){const e=c.$implicit,i=t.oxw().$implicit;t.ekj("text-warning",i.ratingsAverage>=e)}}function H(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"i",29),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.addToWishlist(o._id))}),t.qZA()}}function y(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"i",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,a=t.oxw(2);return t.KtG(a.removeFromWishlist(o._id))}),t.qZA()}}const F=function(s){return["/details",s]},S=function(){return[1,2,3,4,5]};function A(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"figure"),t._UZ(4,"img",17),t.qZA(),t.TgZ(5,"figcaption",18)(6,"h3",19),t._uU(7),t.qZA(),t.TgZ(8,"h3",20),t._uU(9),t.ALo(10,"cuttext"),t.qZA()(),t._UZ(11,"hr"),t.TgZ(12,"div",21)(13,"span",22),t._uU(14),t.qZA(),t.TgZ(15,"span"),t.YNc(16,w,1,2,"i",23),t.qZA()()(),t.TgZ(17,"div",24)(18,"i",25),t.NdJ("click",function(){const a=t.CHM(e).$implicit,m=t.oxw(2);return t.KtG(m.addToCart(a._id))}),t.qZA(),t.YNc(19,H,1,0,"i",26),t.YNc(20,y,1,0,"i",27),t.qZA()()()}if(2&s){const e=c.$implicit,i=t.oxw(2);t.xp6(2),t.Q6J("routerLink",t.VKq(12,F,e._id)),t.xp6(2),t.Q6J("src",e.imageCover,t.LSH)("alt",e.title),t.xp6(3),t.Oqu(e.category.name),t.xp6(2),t.Oqu(t.xi3(10,9,e.title,2)),t.xp6(5),t.hij("",e.price," EGP "),t.xp6(2),t.Q6J("ngForOf",t.DdM(14,S)),t.xp6(3),t.Q6J("ngIf",!i.wishlistData.includes(e._id)),t.xp6(1),t.Q6J("ngIf",i.wishlistData.includes(e._id))}}function J(s,c){if(1&s){const e=t.EpF();t.TgZ(0,"section",10)(1,"h2",3),t._uU(2,"Popular Products"),t.qZA(),t.TgZ(3,"input",11),t.NdJ("ngModelChange",function(o){t.CHM(e);const a=t.oxw();return t.KtG(a.searchTerm=o)}),t.qZA(),t.TgZ(4,"div",12),t.YNc(5,A,21,15,"div",13),t.ALo(6,"search"),t.qZA()()}if(2&s){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.searchTerm),t.xp6(2),t.Q6J("ngForOf",t.xi3(6,2,e.products,e.searchTerm))}}let O=(()=>{class s{constructor(e,i,o,a,m){this._ProductsService=e,this._CartService=i,this._Renderer2=o,this._ToastrService=a,this._WishlistService=m,this.searchTerm="",this.products=[],this.categories=[],this.itemsInPage=0,this.currentPage=1,this.total=0,this.wishlistData=[],this.categoryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,dots:!0,autoplay:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!1}}ngOnInit(){this._ProductsService.getProducts().subscribe({next:e=>{this.products=e.data,this.itemsInPage=e.metadata.limit,this.currentPage=e.metadata.currentPage,this.total=e.results}}),this._ProductsService.getCategories().subscribe({next:e=>{this.categories=e.data}}),this._WishlistService.getWishlist().subscribe({next:e=>{const i=e.data.map(o=>o._id);this.wishlistData=i}})}addToCart(e){this._CartService.addProductCart(e).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.message,i.status),this._CartService.cartNumber.next(i.numOfCartItems)}})}addToWishlist(e){this._WishlistService.addWishlist(e).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.message,i.status),this.wishlistData=i.data}})}removeFromWishlist(e){this._WishlistService.removeWishlist(e).subscribe({next:i=>{console.log(i),this._ToastrService.success(i.status,i.message),this.wishlistData=i.data}})}static#t=this.\u0275fac=function(i){return new(i||s)(t.Y36(_.s),t.Y36(f.N),t.Y36(t.Qsj),t.Y36(x._W),t.Y36(v.M))};static#e=this.\u0275cmp=t.Xpm({type:s,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:2,vars:2,consts:[["class","bg-light p-4 mt-4 rounded-2 ",4,"ngIf"],["class"," p-4 mt-4 rounded-2 ",4,"ngIf"],[1,"bg-light","p-4","mt-4","rounded-2"],[1,"mb-4"],[3,"options"],[4,"ngFor","ngForOf"],["carouselSlide",""],[1,"text-center","cursor-pointer","me-3"],["height","270",3,"src","alt"],[1,"text-primary"],[1,"p-4","mt-4","rounded-2"],["type","search","placeholder","search...",1,"form-control","w-50","mx-auto","mb-4",3,"ngModel","ngModelChange"],[1,"row","g-4"],["class","col-md-6 col-lg-3 h-100",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-3","h-100"],[1,"product","position-relative"],[1,"main-layer",3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"p-2"],[1,"h6","fw-bold","text-primary"],[1,"h6","fw-bold"],[1,"product-tail","d-flex","justify-content-between","align-items-center","p-2"],[1,"fw-bold","text-muted"],["class","fas fa-star fa-sm",3,"text-warning",4,"ngFor","ngForOf"],[1,"layer-product","d-flex","flex-column","justify-content-evenly","align-items-center","rounded-2"],["title","add to cart",1,"fa-solid","fa-cart-shopping","text-secondary","fa-xl",3,"click"],["class","fa-regular fa-heart text-danger fa-xl","title","add to wishlist ",3,"click",4,"ngIf"],["class","fa-solid fa-heart text-danger fa-xl","title","add to wishlist ",3,"click",4,"ngIf"],[1,"fas","fa-star","fa-sm"],["title","add to wishlist ",1,"fa-regular","fa-heart","text-danger","fa-xl",3,"click"],["title","add to wishlist ",1,"fa-solid","fa-heart","text-danger","fa-xl",3,"click"]],template:function(i,o){1&i&&(t.YNc(0,Z,5,2,"section",0),t.YNc(1,J,7,5,"section",1)),2&i&&(t.Q6J("ngIf",o.categories.length>0),t.xp6(1),t.Q6J("ngIf",o.products.length>0))},dependencies:[l.ez,l.sg,l.O5,h.rH,d.bB,d.Fy,d.Mp,g.r,p,r.u5,r.Fj,r.JJ,r.On],styles:[".color-main[_ngcontent-%COMP%]{color:#1abc9c}"]})}return s})()}}]);